<Page
    x:Class="Worldescape.InsideWorldPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:Worldescape"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Grid>

        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!--  Top bar buttons  -->
        <StackPanel
            x:Name="TopButtonsHolder"
            Grid.Row="0"
            Orientation="Horizontal">

            <!--  Own Avatar Image  -->
            <ContentControl x:Name="AvatarImageHolder" />

            <WrapPanel Orientation="Horizontal">

                <!--  Connect  -->
                <Button
                    x:Name="ConnectButton"
                    MinWidth="100"
                    Margin="10"
                    Click="ConnectButton_Click"
                    Content="Connect"
                    FontSize="20"
                    Style="{StaticResource MaterialDesign_Button_Style}" />

                <!--  Craft  -->
                <ToggleButton
                    x:Name="CraftButton"
                    MinWidth="100"
                    Margin="10"
                    Click="CraftButton_Click"
                    Content="Craft"
                    FontSize="20"
                    Style="{StaticResource MaterialDesign_ToggleButton_Style}"
                    Visibility="Collapsed" />

            </WrapPanel>

            <WrapPanel Orientation="Horizontal" Visibility="{Binding ElementName=CraftButton, Path=IsChecked, Converter={StaticResource BooleanToVisibilityConverter}}">

                <!--  Add  -->
                <ToggleButton
                    x:Name="ConstructAddButton"
                    MinWidth="100"
                    Margin="10"
                    Click="ConstructAddButton_Click"
                    Content="Add"
                    FontSize="20"
                    Style="{StaticResource MaterialDesign_ToggleButton_Style}"
                    Visibility="Collapsed" />

            </WrapPanel>

        </StackPanel>

        <ScrollViewer
            x:Name="FrameScrollViewer"
            Grid.Row="1"
            HorizontalScrollBarVisibility="Auto"
            IsTabStop="False"
            VerticalScrollBarVisibility="Auto">

            <Canvas
                x:Name="Canvas_root"
                Grid.Row="1"
                Width="8000"
                Height="8000"
                AllowDrop="True"
                Background="Transparent"
                PointerPressed="Canvas_root_PointerPressed" />

        </ScrollViewer>

        <TextBlock
            Grid.Row="1"
            Margin="20"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            FontSize="20"
            FontWeight="Bold">
            <Run Text="Avatars: " />
            <Run x:Name="ParticipantsCount" />
        </TextBlock>

        <StackPanel
            Grid.Row="1"
            Margin="30"
            HorizontalAlignment="Center"
            VerticalAlignment="Bottom"
            Orientation="Horizontal">

            <!--  Shows clicked on construct  -->
            <ContentControl
                x:Name="SelectedConstructHolder"
                HorizontalAlignment="Center"
                Style="{StaticResource MaterialDesign_PopupContent_Style}"
                Visibility="Collapsed" />

            <ContentControl
                x:Name="ConstructOperationalCommandsHolder"
                Style="{StaticResource MaterialDesign_PopupContent_Style}"
                Visibility="Collapsed">

                <StackPanel Orientation="Horizontal">

                    <!--  Shows adding, cloning, moving construct  -->
                    <ContentControl
                        x:Name="OperationalConstructHolder"
                        HorizontalAlignment="Center"
                        Visibility="Collapsed" />

                    <!--  Construct Operations  -->
                    <WrapPanel Orientation="Horizontal">

                        <!--  Move  -->
                        <ToggleButton
                            x:Name="ConstructMoveButton"
                            MinWidth="100"
                            Margin="10"
                            Click="ConstructMoveButton_Click"
                            Content="Move"
                            FontSize="20"
                            Style="{StaticResource MaterialDesign_ToggleButton_Style}" />

                        <!--  Clone  -->
                        <ToggleButton
                            x:Name="ConstructCloneButton"
                            MinWidth="100"
                            Margin="10"
                            Click="ConstructCloneButton_Click"
                            Content="Clone"
                            FontSize="20"
                            Style="{StaticResource MaterialDesign_ToggleButton_Style}" />

                        <!--  Upward  -->
                        <Button
                            x:Name="ConstructBringForwardButton"
                            MinWidth="100"
                            Margin="10"
                            Click="ConstructBringForwardButton_Click"
                            Content="Upward"
                            FontSize="20"
                            Style="{StaticResource MaterialDesign_Button_Style}" />

                        <!--  Downward  -->
                        <Button
                            x:Name="ConstructSendBackwardButton"
                            MinWidth="100"
                            Margin="10"
                            Click="ConstructSendBackwardButton_Click"
                            Content="Downward"
                            FontSize="20"
                            Style="{StaticResource MaterialDesign_Button_Style}" />

                        <!--  Enlarge  -->
                        <Button
                            x:Name="ConstructScaleUpButton"
                            MinWidth="100"
                            Margin="10"
                            Click="ConstructScaleUpButton_Click"
                            Content="Enlarge"
                            FontSize="20"
                            Style="{StaticResource MaterialDesign_Button_Style}" />

                        <!--  Dwindle  -->
                        <Button
                            x:Name="ConstructScaleDownButton"
                            MinWidth="100"
                            Margin="10"
                            Click="ConstructScaleDownButton_Click"
                            Content="Dwindle"
                            FontSize="20"
                            Style="{StaticResource MaterialDesign_Button_Style}" />

                        <!--  Rotate  -->
                        <Button
                            x:Name="ConstructRotateButton"
                            MinWidth="100"
                            Margin="10"
                            Click="ConstructRotateButton_Click"
                            Content="Rotate"
                            FontSize="20"
                            Style="{StaticResource MaterialDesign_Button_Style}" />

                        <!--  Delete  -->
                        <Button
                            x:Name="ConstructDeleteButton"
                            MinWidth="100"
                            Margin="10"
                            Click="ConstructDeleteButton_Click"
                            Content="Delete"
                            FontSize="20"
                            Style="{StaticResource MaterialDesign_Button_Style}"
                            Visibility="Collapsed" />

                    </WrapPanel>

                </StackPanel>

            </ContentControl>
        </StackPanel>

        <!--  Bottom bar buttons  -->
        <StackPanel
            x:Name="BottomButtonsHolder"
            Grid.Row="2"
            Visibility="Collapsed">

            <ContentControl x:Name="SelectedAvatarHolder" />

            <WrapPanel
                x:Name="OwnAvatarActionsHolder"
                Orientation="Horizontal"
                Visibility="Collapsed" />

            <WrapPanel
                x:Name="OtherAvatarActionsHolder"
                Orientation="Horizontal"
                Visibility="Collapsed" />

        </StackPanel>

    </Grid>
</Page>